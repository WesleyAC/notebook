function offset(t){let e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+s,left:e.left+i,height:e.height,width:e.width}}function setup_sideline(){let t=document.getElementsByClassName("sideline");for(;t[0];)t[0].parentNode.removeChild(t[0]);const e=document.getElementsByClassName("sidenote-number");for(const t of e){const e=t.nextSibling.nextSibling;let i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("sideline"),i.style.height=document.body.scrollHeight+"px",i.setAttribute("shape-rendering","crispEdges");const s=offset(t),n=offset(e);let o=document.createElementNS("http://www.w3.org/2000/svg","line");i.appendChild(o),o.setAttribute("stroke-width","2px"),o.setAttribute("stroke","#666"),o.setAttribute("x1",s.left),o.setAttribute("y1",s.top+s.height+3),o.setAttribute("x2",n.left),o.setAttribute("y2",s.top+s.height+3);let r=document.createElementNS("http://www.w3.org/2000/svg","line");i.appendChild(r),r.setAttribute("stroke-width","2px"),r.setAttribute("stroke","#666"),r.setAttribute("x1",n.left-1),r.setAttribute("y1",Math.min(s.top+s.height+3,n.top-6)),r.setAttribute("x2",n.left-1),r.setAttribute("y2",n.top+n.height+6);let l=document.createElementNS("http://www.w3.org/2000/svg","line");i.appendChild(l),l.setAttribute("stroke-width","2px"),l.setAttribute("stroke","#666"),l.setAttribute("x1",n.left-1),l.setAttribute("y1",n.top-6),l.setAttribute("x2",n.left+18),l.setAttribute("y2",n.top-6);let d=document.createElementNS("http://www.w3.org/2000/svg","line");i.appendChild(d),d.setAttribute("stroke-width","2px"),d.setAttribute("stroke","#666"),d.setAttribute("x1",n.left-1),d.setAttribute("y1",n.top+n.height+6),d.setAttribute("x2",n.left+18),d.setAttribute("y2",n.top+n.height+6),e.parentNode.insertBefore(i,e.nextSibling)}}matchMedia("(hover:hover),(any-hover:hover)").matches&&(document.fonts.ready.then(setup_sideline),window.addEventListener("load",setup_sideline),window.addEventListener("resize",setup_sideline));
