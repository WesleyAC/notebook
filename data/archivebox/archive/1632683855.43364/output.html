<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta content="width=device-width, initial-scale=1" name="viewport"><title>Hedging tail risk, emigration, keyboard superoptimization</title><link href="/stylesheets/style.css" rel="stylesheet"></head><body><div class="fulltext"><a href="/newsletter/">← Back to Kevin's newsletters</a><span class="published">Published: 2020 Aug 8</span></div><div class="newsletter fulltext"><h2>Emigration and other hedges</h2>

<p>When my partner and I moved to Taiwan in March, many of our friends were quite surprised.
Back then, all I wrote was: “<a href="https://kevinlynagh.com/newsletter/2020_03_pandemic_edition/">long pandemic story short, ended up in Taiwan</a>”.</p>

<p>Today I want to share that story in more detail, for two reasons:</p>

<ol>
<li>To encourage you to <em>make decisions</em>, even (especially!) when you are uncertain about low-probability extreme outcomes.</li>
<li>To remind you that emigration <em>may</em> be an option to hedge against such outcomes.</li>
</ol>

<p>I emphatically do <em>not</em> mean to say that you should emigrate somewhere, nor imply that everyone even has this choice.
(Of course not! Just like the goofy computing shit we usually discuss on this newsletter, emigration is not available to literally billions of people due to systemic political, social, and economic factors entirely outside of their control.)</p>

<p>I’m writing to you, my friend, so that if you are fortunate enough to have the option, you at least consider it.</p>

<h2>A digression on earthquakes</h2>

<p>Before we get to emigration, let’s first discuss reasoning about low-probability extreme outcomes.</p>

<p>My advice, in short:</p>

<ol>
<li>Resist the urge to round small numbers down to zero,</li>
<li>because a small number times a big number might still be very big.</li>
</ol>

<p>Here’s an example: One day in my 20’s I realized I was living on the <a href="https://en.wikipedia.org/wiki/Cascadia_subduction_zone">Cascadia subduction zone</a>, so I decided to park two weeks of non-perishable food, water, and basic medical supplies in my backyard.</p>

<p>Did I think an earthquake was imminent?
No.</p>

<p>Did I think that after an unlikely (but possible!) earthquake, I might be on my own for a while, and so might appreciate past-Kevin’s bottled water and beans foresight?
Well, yeah, I saw <a href="https://en.wikipedia.org/wiki/Hurricane_Katrina">Katrina</a> on television, and there’s no evidence to suggest that wouldn’t happen to me.
So, spend 0.1% of my annual income once every decade (gotta replace the beans) to hedge that risk?
Absolutely!
Yes!
Good trade!</p>

<p>This isn’t paranoia or disaster fetishism.
I’m an optimistic, happy person; I don’t spend my evenings lovingly staring at a horde of gold bars and shotguns.</p>

<p>However, I <em>do</em> appreciate a good back-of-the-envelope calculation and once heard that <a href="https://en.wikipedia.org/wiki/Nassim_Nicholas_Taleb">Black Swan Guy</a> on a podcast.
So I’m aware that “unlikely” is not the same as “impossible” — and the distinction matters when the stakes are high!</p>

<p>(<strong>Homework:</strong> If you live in an area at risk of earthquakes — e.g., anywhere along the American West coast — do you have two weeks of food and water? If not, please stop reading now and get some. Seriously, 2020 is barely halfway over. While you’re up, practice closing your house/apartment’s gas line too. I mean it! I don’t want to hear from any of you ding dongs about “local-first software” or “distributed systems” until you have a local-first supply of water and carbohydrates.)</p>

<h2>So, how did I end up in Taiwan?</h2>

<p>To explain, let me set the scene; come back with me to the <em>before times</em>.</p>

<p>Early February 2020, I meet with a friend visiting town.
He asks if I’m worried about this virus in Asia.
“No, I don’t really spend time following the news.”
He says no more about it.
We eat burritos.</p>

<p>Late February, I’m in New York City visiting friends on my way to a small conference.
I have beers with my <a href="https://www.instagram.com/misterngo/">Instagram-famous uncle</a> and he wonders if this virus thing might affect his travel plans.
A woman in a fancy soap store asks if “in the spirit of the times” we’d like to wash our hands with her wares.
My partner and I travel on to our conference.</p>

<p>The first week of March, we conference.
There is much discussion of technical matters, old friends, drinking, new friends, and I continue to pay no attention to the Coronavirus.</p>

<p>Second week of March, I’m working onsite with a client in the finance industry.
On Monday March 9, we watch the S&amp;P 500 trip its circuit breaker for falling too quickly immediately after trading opened.
Now I (and seemingly everyone else in the West) start paying attention.</p>

<p>By Wednesday, the severity of the situation is made clear when one of the few remaining American institutions trusted by the general public acts against its short-term economic interest: The NBA <a href="https://en.wikipedia.org/wiki/Suspension_of_the_2019%E2%80%9320_NBA_season">stops playing basketball</a>.</p>

<p>I’m telling you all this to set the context: I’m in the middle of a one-week client engagement on a small British Overseas Territory and three days into paying any attention whatsoever to Coronavirus.
Like everyone at the time, I have no idea how the virus will spread, its health impacts on individuals, the social and economic impacts, etc., etc.</p>

<p>Fortunately, our travel plans — a 2-day layover / vacation in Panama on our return to the US — now seem like an obviously a bad idea, so my partner and I realize we need to make alternative arrangements.</p>

<p>Here’s where reasoning about low-probability extreme events comes in.
I, a non-expert, non-disaster-enthusiast, can imagine only two extreme scenarios to worry about:</p>

<ol>
<li>getting sick (‘rona or otherwise) and being unable to access medical care</li>
<li>supply chain breakdown (i.e., empty grocery stores) and likely social consequences (violent theft, etc.)</li>
</ol>

<p>Again, I didn’t think these were <em>likely</em>, but I didn’t think they were <em>impossible</em> either.
I guesstimated the odds of Safeway closing for two weeks at 5%.</p>

<p>Given these two broad low-probability, high-badness concerns, that Wednesday my partner and I discussed a few possible options:</p>

<ol>
<li><p>Stay put.
This was tempting: My client very generously offered to host us and, as you might expect from someone who works in finance from a British Overseas Territory, they have a very comfortable home.
However, if international travel shut down we’d be stuck on a small island.
Tourism was obviously over for at least a few months, which was not going to be great for the local economy.
If supply chains got cut off, we wouldn’t starve (lots of fishing boats), but the rum and diesel would run out quickly.
As for the pandemic itself, well, the Four Seasons medical clinic I’m sure has great food but, uh…</p></li>
<li><p>Head back immediately to Oakland (where my partner lived at the time).
I wasn’t thrilled about this option, as the San Francisco Bay Area <em>normally</em> feels like it’s on brink of collapse.
I’ve witnessed (in broad daylight, in multiple places!) people publicly defecating (in front of police!), breaking into cars, and shooting up.
Yes, the reasons for this are complex and tragic, but that longstanding dysfunction suggested to me the Bay Area might not be the best place to be during a pandemic.
(The anti-vaccine literature prominently displayed in every wealthy Berkeley grocery store checkout queue didn’t instill confidence either.)</p></li>
<li><p>Head elsewhere in the US.
We briefly considered this, but had no evidence to suggest that any particular family member, friend, local government or region would fare better than another.
Besides, heading anywhere else would put us at a disadvantage in terms of the supply chain risk (my partner’s beans were in Oakland).</p></li>
</ol>

<p>More broadly, the US national response at that time was, uh, uninspiring (basketball association excepted), and I was concerned about how the population as a whole might react.
(I suspect more Americans have guns than earthquake kits.)</p>

<p>On Thursday, March 12 it occurred to me that the best place to go might be in Asia, for two reasons:</p>

<ol>
<li><p>Many Asian countries already have a social norm around wearing masks in public (partly from the first <a href="https://en.wikipedia.org/wiki/Severe_acute_respiratory_syndrome">SARS</a> outbreak and partly because, well, they consider it polite not to sneeze on people).</p></li>
<li><p>Asian countries were “ahead” of the West in terms of the pandemic, so instead speculating as to how a Western government <em>would</em> react it was possible to see how Asian governments <em>were</em> reacting.</p></li>
</ol>

<p>Okay, sure, but which Asian country should we actually head to?</p>

<p>I figured it’d be better to be in a wealthier country, which ruled out places like Vietnam, Thailand, etc.</p>

<p>Hong Kong seemed to be handling the virus well, but also <a href="https://en.wikipedia.org/wiki/2019%E2%80%9320_Hong_Kong_protests">losing its autonomy</a>.
Singapore is famously well run and also famously <a href="https://en.wikipedia.org/wiki/Politics_of_Singapore">not so free</a>.
Japan I’d visited (and quite liked!), but they <a href="https://twitter.com/patio11/status/1237496444539375618">seemed to be in denial</a> about the virus due to their hosting of 2020 Summer Olympics.
South Korea I’d always wanted to visit and was already testing extensively (via <a href="https://www.npr.org/sections/goatsandsoda/2020/03/13/815441078/south-koreas-drive-through-testing-for-coronavirus-is-fast-and-free">drive-throughs!</a>).</p>

<p>However, in my hour of Googling I found this <a href="https://jamanetwork.com/journals/jama/fullarticle/2762689">this JAMA article</a> which made it clear that Taiwan would be our best bet due to the <em>extremely</em> competent government response thus far.
(Which I experienced firsthand when I <a href="https://kevinlynagh.com/newsletter/2020_03_pandemic_edition/">arrived in March</a>.)
For example, Taiwan began screening flights from Wuhan in <em>December</em> and in February the <a href="https://www.taiwannews.com.tw/en/news/3869320">military was deployed to work in mask factories</a>.
Also: The <em>vice president</em> (at the time, now recently returned to academia) was the epidemiologist who oversaw the health department during the 2003–2004 SARS outbreak.</p>

<p>Again, not an expert, but, uh, democratic island nation with strong ties to the US, national health insurance system, extensive domestic medical manufacturing capacity, and an <em>epidemiologist vice president</em>?
Yes, good place to be for a global pandemic!</p>

<p>On Friday March 13 we bought tickets: $700 per person from Puerto Rico to Taipei (including a no-change-fee “please god just book a flight, our industry is melting down” return leg to San Francisco).</p>

<p>Once we realized we needed to make a decision, it was actually pretty easy because of the payoff matrix skew.
The potential downsides were, what?
We get rejected at the border and end up having wasted a flight?
The virus turns out to be no big deal and we feel dumb for having spent 5% of our income on an unnecessary working-vacation?</p>

<p>The potential upside?
Well, lets just say that while I’ve spent the last 4 months wandering freely around Taipei eating<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup> <a href="https://en.wikipedia.org/wiki/Gua_bao">gua bao</a> with my 23 million new friends, I’ve also been watching all my old friends growing increasingly bad haircuts at home while trying to avoid permanent organ damage.</p>

<h2>Why am I telling you all this?</h2>

<p>I’m not sharing my story because I want to gloat.
I’m sharing my story because <em>all the reasoning still holds</em>.</p>

<p>Like, there is still a pandemic!
You are more likely to get COVID <em>now</em> than you were back in March when everyone was flipping out.
You won’t make the news anymore, but it will still be very bad for you and your family!</p>

<p>On the other side of the equation, how difficult is it to move to another country?</p>

<p>Clearly, that depends on your situation:
Can you work remotely or afford to be out of work for a while?
Do you have the literal privileges granted from the governments involved?
Etc.</p>

<p>In our case, we entered Taiwan as visa-exempt American citizens.
We didn’t plan to move permanently (we had only our conference trip duffel bags), but after a week of watching the US response it felt likely we’d want to stay our full 90 days<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup> in Taiwan.</p>

<p>My partner offered her landlord upfront payment in exchange for reduced rent, but after that was declined she ended her lease and hired a freshly unemployed family-member to move everything into storage.
(Aside from the cost-savings of not paying for an unoccupied apartment, we also figured the Bay Area rental market would be cheaper a few months into a pandemic anyway.)</p>

<p>After we’d finished with our two weeks of arrival “self-health isolation” and spent a few weeks moving freely in Taipei, we decided to explore our options for staying longer.
The cost of this hedge also turned out to be quite low for us: We were issued 3-year residency permits after submitting paperwork online showing we’d been paid salaries of at least US$5,300/month sometime in the past three years.</p>

<p>(Note: This “<a href="https://coa.immigration.gov.tw/coa-frontend/four-in-one/entry/golden-card">Gold Card</a>” program is still active and one can apply from outside of Taiwan. The government also considers <a href="https://www.boca.gov.tw/cp-220-5691-aa1c3-2.html">studying Mandarin</a> to be a valid reason to enter Taiwan.)</p>

<p>I feel more comfortable describing my situation as a “hedge” than as “emigration”.
The latter word somehow feels more permanent; more serious.
My mother, for example, as a teenager jumped on a fishing boat the morning after her city fell to <a href="https://en.wikipedia.org/wiki/Vietnam_War">invading communists</a>, promptly got lost in the ocean, and was eventually rescued to America.</p>

<p>I, on the other hand, watched three movies back-to-back and took a nap.</p>

<p>Hedging is all about balancing hard-to-know risks with (sometimes) hard-to-know costs.
In terms of risks, we’ve mostly discussed my experience with the pandemic, but there are of course others.</p>

<p>E.g., my fellow Americans, I’m sure you’ve noticed our police<sup id="fnref3"><a href="#fn3" rel="footnote">3</a></sup> <a href="https://slate.com/news-and-politics/2020/05/george-floyd-protests-police-violence.html">erupting in violence</a>.
They’re pulling people into unmarked vans <a href="https://www.nytimes.com/2020/07/28/nyregion/nypd-protester-van.html">coast</a> to <a href="https://www.bbc.com/news/world-us-canada-53460495">coast</a>.
Our president has been calling my hometown a <a href="https://www.theguardian.com/us-news/video/2020/jul/31/a-beehive-of-terrorists-donald-trump-threatens-to-deploy-national-guard-in-portland-video">beehive of terrorists</a> and speculating about <a href="https://www.bbc.com/news/world-us-canada-53597975">delaying the election</a>.
It’s not exactly a “healthy democracy” look!</p>

<p>Now, I’m not saying you should or shouldn’t emigrate, quarantine, protest, or whatever.
I just want to remind you to actually <em>think</em> about low-probability events and extreme outcomes.</p>

<p>What you decide to do is, of course, quite personal.
How can you best take care of yourself and your loved ones?
How should you balance your idealism with your pragmatism?
Is it better to try to reform a government/society or contribute to one that already better reflects your values?
<a href="https://en.wikipedia.org/wiki/Exit,_Voice,_and_Loyalty">Voice or Exit</a>?</p>

<p>Hard questions, yes, but worth thinking about!</p>

<p>And if I, your newsletter nerd friend, can help in any way, please reach out.
Please stay safe, do good, and be well.</p>

<p>Okay, now back to dumb computer stuff.</p>

<h2>A very thin keyboard</h2>

<p>Behold, a very thin keyboard!</p>

<p><img alt="A very thin keyboard" style="display: block; margin: auto; max-width: 100%;" src="https://kevinlynagh.com/newsletter/2020_08_extreme_outcomes/thin-keyboard.jpg"></p>

<p>The joy of this project is inventing and balancing contradictory goals.
Let’s make a keyboard that’s both <em>mechanical</em> (with keys that have a satisfying amount of travel) but also <em>thin</em> (so not too much travel).
It should be usable (easy to learn, type fast, be reliable) but also small and portable (wireless, fewer keys).</p>

<p>This is product design as <em>sport</em>.
The keyboard doesn’t matter, just as picking up a heavy steel bar or reaching the top of a mountain doesn’t matter.
What matters is the struggle!</p>

<p>Luckily, in aiming to make the thinnest possible mechanical keyboard (no thicker than the switches themselves), I’ve ensured myself a sufficient supply of struggle.
I’ve had to source custom thin lithium ion cells, design protection circuitry, and select the rest of the board components to minimize leakage currents and other standby losses.
On the firmware side, I’ve had to dive into the details of bluetooth and evaluate architectural tradeoffs between latency, battery life, and ease of use.</p>

<p>So far, my work has been largely theoretical — rough back of the envelope calculations based on datasheets and YouTube videos.
But I recently purchased <a href="https://amzn.to/2PmclyD">an oscilloscope</a> (an instrument for measuring voltages on the timescale of microseconds), which will let me test various assumptions about my code and hardware.
E.g., exactly how many cycles does it take to process a keypress and go back to sleep?</p>

<p>Rough firmware has also allowed me to test actually <em>using</em> the keyboard.
(Yes, it works!)
After just a few minutes, several industrial design issues became apparent.</p>

<p>The first you probably already noticed: The USB charging cable’s rubber strain relief lifts keyboard off the table.
I’d anticipated this when I specified the mid-mount connector, and decided I’d figure it out later.
Well, later is now!
I can think of a few possible solutions:</p>

<ul>
<li>Ignore it; after all, the cable is only needed for charging, so if the battery lasts sufficiently long it’s not a big deal.</li>
<li>Design an enclosure so that the circuit board is lifted up the extra millimeter or two. Ugh, not sporting!</li>
<li>Shave down the cable thickness. Practical!</li>
<li>Drop the USB connector entirely and use wireless charging. Hmmmm…</li>
</ul>

<h2>It’s really small too!</h2>

<p><img alt="Two small keyboards on a macbook air" style="display: block; margin: auto; max-width: 100%;" src="https://kevinlynagh.com/newsletter/2020_08_extreme_outcomes/small-keyboard.jpg"></p>

<p>The other issue that became immediately apparent once I started using the keyboard is, uh, the number of keys: 5x5.
This is many fewer keys than a normal keyboard.</p>

<p>Again, the constraint here was chosen primarily for sport (also because, if I recall correctly, it cost an extra $10 for PCBs larger than 100mm square).</p>

<p>The design tradeoff here is between usability and size.</p>

<p>Perhaps the easiest keyboard to learn would have a one-to-one mapping between keys and characters, but such a keyboard would be quite large.
At the opposite extreme, perhaps the smallest, most portable keyboard would be a wireless telegraph key, which would both require a lot of training (learn Morse code!) but also have a low typing speed ceiling.</p>

<p>Chorded keyboards like <a href="https://en.wikipedia.org/wiki/Stenotype">stenotypes</a> have fewer keys than a normal computer keyboard and rely on operators to press multiple keys simultaneously.
The current world typing record (<a href="https://nymag.com/speed/2016/12/how-to-type-360-words-a-minute.html">360 words per minute</a>) is on such a machine.</p>

<p>Traditional keyboards reduce number of physical keys needed by moving symbols and uppercase letters to a separate “layer” that’s accessed via the “shift” key.
But there’s nothing special about one layer; in the case of a 5x5 keyboard it might make more sense to have a “number layer”, “symbol layer”, “function layer” (volume and brightness controls), etc.</p>

<p>Other techniques I’ve seen explored include combining layer keys with regular characters (e.g., the spacebar might act as the “control” key if you hold it down and press another key; otherwise if you just press down and up it acts as a regular spacebar).</p>

<h2>Keys are boring anyway</h2>

<p>Why pigeonhole ourselves with keyboards, devices that map button presses into “keys”?
Arguably more fun devices include soundboards (which map button presses into silly noises), <a href="https://www.elgato.com/en/gaming/stream-deck">stream decks</a> (selecting between camera angles and Twitch culture things I’m too old to understand), video game controllers, etc.</p>

<p>The interface of virtual key codes isn’t one we necessarily have to support.
Why not instead something contextual, where physical keys are mapped directly to operations in the currently focused program?
We’ve talked about <a href="https://kevinlynagh.com/newsletter/2020_04_keyboards_rethinking_desktops/">window managers</a> previously; perhaps a 5x5 grid of buttons to could select and move windows around a 5x5 grid on your desktop?</p>

<h2>Thin client updates</h2>

<p>Last month I hypothesized that maybe, <a href="https://kevinlynagh.com/newsletter/2020_07_luxury_input_devices/">just maybe</a>, being able to ping Google’s Taipei datacenter in 3 milliseconds would mean I could use <em>their</em> computers for my computing needs, rather than buying my own desktop hardware.</p>

<p>I realized there are two distinct sub-problems here:</p>

<ol>
<li>What local hardware is required to hook up my monitor, keyboard, and trackpad to The Cloud?</li>
<li>What “remote desktop” software doesn’t have an infuriating amount of latency?</li>
</ol>

<p>I decided to table the first problem for now, since it’s only worth figuring once after low-latency remoting works from my current local hardware (i.e., my laptop).</p>

<p>As for the second problem: Five of you emailed to extol the virtues of <a href="https://mosh.org/">Mosh</a>, the “mobile shell”.
But, as I said last time, there’s more to life than text: I’m aiming to do <em>graphical computing</em> on the remote.
(Fancy stuff, like reading PDFs.)</p>

<p>I’m adamant that anything short of a full graphical environment is a leaky abstraction that will inevitably lead to madness.
(Shout out to the sixth newsletter reader who emailed about Mosh to say it was “a nightmare for clipboard management”.)</p>

<p>Anyway, I <a href="https://kevinlynagh.com/remote-desktop/">tried out more remote desktop software</a>.
The current lead contender is <a href="https://www.nomachine.com/">No Machine</a>, a proprietary solution with a generous free version.
In addition to being the most functional software I’ve tried thus far (I can watch YouTube on the remote!), happily several factors suggest it’s worth trusting:</p>

<ul>
<li>It’s commercial — i.e., it’s someone’s actual job to keep it working (unlike open source).</li>
<li>The business model is clear: They <a href="https://www.nomachine.com/buyonline">charge $$$</a> for enterprise features.</li>
<li>The Lindy effect suggests it’ll stick around (webpage copyright since 2002).</li>
<li>Their landing page is boring.</li>
</ul>

<p>That said, there is still a noticeable latency — my best guess is that it’s caused by software video encoding on the server side.
I’d like to test this hypothesis (and also <a href="https://parsecgaming.com/">Parsec</a>, a videogame-oriented remote desktop solution with a VC-alarm-bell suspiciously fun landing page), but unfortunately Google refuses to rent me a GPU due to my lack of billing history.
Apparently the Cloud part of Google isn’t connected to the AdSense part, where my account has spent thousands. <code>¯\_(ツ)_/¯</code></p>

<p>We’ll find out next month whether a timely payment of my $1.72 bill sufficiently establishes my credibility to rent a GPU.</p>

<h2>Works in progress</h2>

<p>(I already keep a <a href="https://kevinlynagh.com/ideas/">list of open interests</a>, but thought it’d be worth mentioning here what I’m actively exploring in case any of y'all have suggestions or collaboration interest.)</p>

<p><strong>Remotely controlled remote control:</strong> My apartment has mini-split air conditioners, controlled via an infrared remote.
I turn them off when leaving the house, but it’d be nice to turn them back on remotely (e.g., when I am returning from lunch and would like to arrive to an optimal-napping-temperature bedroom).
I’ll design my own IR transmitter using the same bluetooth microcontrollers I used in the keyboard — but how should I access those remotely?
Should I run some kind of <a href="https://www.home-assistant.io/">open source IoT pile of code</a> on a Raspberry Pi and, uh, exposed that to the Internet?
Should I roll my own thing using a VPN or <a href="https://patchbay.pub/">the Patch Bay</a>?
If I wanted to sell this hardware as a product to other nerds, what functionality would they be willing to pay for?
(“IR Blaster” is the term of art here, and a quick Amazon search shows many existing offerings between $30–150.)</p>

<p><strong>Microcontroller superoptimization:</strong>
There’s a direct relationship between my keyboard’s firmware efficiency and its battery life.
This got me wondering about how programming languages usually force me to over-specify my intent and thus prevent certain optimizations.
E.g., I can’t say “read registers A, B, C into D, E, F” without specifying an order in my source code.
The compiler must respect that order, even if I don’t actually care about it and reading in some other order might be faster<sup id="fnref4"><a href="#fn4" rel="footnote">4</a></sup>.</p>

<p>The <a href="http://bloom-lang.net/index.html">Bloom</a> language explored these ideas in a distributed systems context, but I’m not aware of any close-to-the-machine embedded language work.</p>

<p>More broadly, I’ve been struggling with doing compile-time calculations in Rust.
The macro system and const fns are complex yet deliberately limited; the sorts of calculations I’m trying to run (integer division to choose clock prescalers; assert-at-compile-time arithmetic relationships between constants) always end up being “puzzles”.
My solution thus far — do it in a spreadsheet and copy into the source code magic numbers with comments — is unsatisfying in the same way that using the back of a screwdriver as a hammer is both expedient yet feels <em>deeply wrong</em>.
(<a href="https://andrewkelley.me/post/zig-programming-language-blurs-line-compile-time-run-time.html">Zig’s approach to compile-time</a> looks much more interesting and cohesive.)</p>

<p>In the embedded domain, such needs seem to be addressed by increasingly complex “build tools” (compiler preprocessor macros, make targets, etc.), but I can’t help but wonder what a more deliberately designed system might look like
There’s a lot of interesting work to draw from staged languages, <a href="https://fitzgeraldnick.com/2020/01/13/synthesizing-loop-free-programs.html">program synthesis</a>, <a href="https://ucsd-progsys.github.io/liquidhaskell-blog/">refinement types</a>, <a href="https://github.com/mangpo/greenthumb">superoptimizers</a>, and <a href="http://emina.github.io/rosette/">solver-aided programming</a>.</p>

<p>I won’t write a programming language, I won’t write a programming language, I won’t write…</p>

<h2>Misc. Stuff</h2>

<ul>
<li><p>Clojure has been the most influential single work on my personal technical growth, and it’s fascinating to read Rich Hickey’s <a href="https://clojure.org/about/history">reflection and history</a> on the language. Thanks Rich!</p></li>
<li><p>A <a href="https://www.youtube.com/watch?v=MdfUSNzc0Xk">Lego submarine</a>.</p></li>
<li><p>“When this pandemic is “over” (whatever that means), the undead bones of neoliberal governance may well yet again gather themselves from the chaos and reconstitute the suave, smooth-talking vampire to whose predations we have grown unhappily accustomed. But they may not. We may find ourselves in a period of social experimentation and change. If so, as we diminish (not eliminate!) the role of markets, it is useful I think to understand the variety of functions that markets serve, so that framers of new institutions understand what will be excised, what may sometimes need to be replaced. So. Here are <a href="https://www.interfluidity.com/v2/7333.html">four functions of markets</a>.”</p></li>
<li><p>We should all aspire to have a dentist who’ll <a href="https://twitter.com/Ascii211/status/1288157761361063937">x-ray our circuit boards</a>.</p></li>
<li><p><a href="https://sambleckley.com/writing/pockets.html">UX analysis of pockets</a> (and pants prototyping!) </p></li>
<li><p>The surest way to a fast web site: <a href="https://forgeperf.org/">a public dashboard</a> so developers feel bad when they make a slow web site.</p></li>
<li><p>“You’ll never get in that package without a pair of scissors, so <a href="https://tedium.co/2020/07/31/plastic-blister-pack-history">don’t even try</a>.”</p></li>
<li><p><a href="https://youtu.be/iFY5SyY3IMQ">Shamir’s secret sharing scheme</a>.</p></li>
<li><p>Theory: Prevent others from reading your embedded device firmware by setting this non-volatile lock register. Practice: How can the CPU know it’s locked if we <a href="https://limitedresults.com/2020/06/nrf52-debug-resurrection-approtect-bypass/">kick it when it tries to read that register</a>?</p></li>
<li><p>“If we were feeling snarky, we could perhaps describe IPv6 as <a href="https://tailscale.com/blog/two-internets-both-flakey/">the String Theory of networking</a>: a decades-long boondoggle that attracts True Believers, gets you flamed intensely if you question the doctrine, and which is notable mainly for how much progress it has held back.”</p></li>
<li><p>Introduction to <a href="http://www.pyrunner.com/weblog/2016/05/26/compressed-sensing-python/">compressed sensing</a>, with examples in Python.</p></li>
<li><p>“We all know what it signifies but not exactly what it means—and that was the intent.” A history of the <a href="https://www.printmag.com/post/biohazard-symbol-history">biohazard symbol</a>.</p></li>
<li><p><a href="http://jpkoning.blogspot.com/2020/07/bitcoin-is-more-like-ham-radio-than.html">Bitcoin is more like ham radio than the early internet</a>.</p></li>
<li><p>Electric unicycles now go <a href="https://www.youtube.com/watch?v=i2OwOEHQ4vA">45 mph</a>.</p></li>
<li><p><a href="https://raphlinus.github.io/covid/2020/07/08/seeking-truth.html">Seeking truth in a time of misinformation</a>.</p></li>
<li><p>High-performance brain-to-text communication via <a href="https://www.biorxiv.org/content/10.1101/2020.07.01.183384v1">imagined handwriting</a>.</p></li>
<li><p>Do you have two weeks of non-perishable food and water?</p></li>
</ul>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>Yeah <a href="https://en.wikipedia.org/wiki/TSMC">TSMC</a> is cool, but the fried chicken and stewed pork technology here is <em>next level</em>.&nbsp;<a href="#fnref1" rev="footnote">↩</a></p>
</li>

<li id="fn2">
<p>Taiwan ended up issuing five <a href="https://www.boca.gov.tw/cp-220-5731-be781-2.html">30-day automatic visa extensions</a> in response to the pandemic, starting in March going through July. I’d be curious to see a ranking of countries along this easily measurable government “competence/compassion” metric.&nbsp;<a href="#fnref2" rev="footnote">↩</a></p>
</li>

<li id="fn3">
<p>“Our police” is a broad phrasing; in the case of Portland, the city and state officials refer to the amalgamation of US Marshals, Homeland Security, and Border Patrol (!?!) officers as “federal troops”. Personally, I use a simple heuristic regarding all state-armed individuals: The ones wearing high-visibility vests want you to find them so they can help you. The ones wearing camouflage think they’re in a war zone and may treat you like The Enemy.&nbsp;<a href="#fnref3" rev="footnote">↩</a></p>
</li>

<li id="fn4">
<p>How could reordering register reads make a program faster? Well, on an ARM processor where both the instruction size and memory address space is 32-bits, memory reads take a few instructions: Load the lower half of address into register A and upper half into register B, then read from the address given by A and B together. So if you want to read from several registers, it would be more efficient to read ones that share an upper/lower address together, to minimize the number of times that half-address needs to be loaded into a register.&nbsp;<a href="#fnref4" rev="footnote">↩</a></p>
</li>

</ol>
</div>
</div><footer><p>This was an issue of Kevin’s newsletter; <a href="https://tinyletter.com/kevinlynagh">sign up</a> or <a href="/newsletter/">see other issues</a>.</p>
<a href="/">← Back to Kevin's homepage</a></footer><script async="" src="https://www.google-analytics.com/analytics.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-23092253-20', 'auto');
ga('send', 'pageview');</script></body></html>
