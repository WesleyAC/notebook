<!DOCTYPE html>
<html lang="en"><head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Old Man Yells at Cloud — Pixel Envy</title>
	<meta name="viewport" content="width=device-width">
	<meta name="author" content="Nick Heer">
	<meta name="description" content="Hinted at earlier this week and made official today, MacOS 12.3 will be dropping support for the kernel extension used by cloud storage providers like Dropbox and Microsoft OneDrive. They will instead be required to use Apple’s File Provider extension, originally created for iOS’ Files app and integrated into MacOS since Catalina. It is a […]">
	<link rel="canonical" href="https://pxlnv.com/blog/old-man-yells-at-cloud/"> 
	<meta property="og:type" content="article">
	<meta property="og:title" content="Old Man Yells at Cloud">
	<meta property="og:description" content="Hinted at earlier this week and made official today, MacOS 12.3 will be dropping support for the kernel extension used by cloud storage providers like Dropbox and Microsoft OneDrive. They will instead be required to use Apple’s File Provider extension, originally created for iOS’ Files app and integrated into MacOS since Catalina. It is a […]">
	<meta property="og:url" content="https://pxlnv.com/blog/old-man-yells-at-cloud/">
	<meta property="og:image" content="https://pxlnv.com/apple-touch-icon.png">
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@pxlnv">
	<meta name="twitter:creator" content="@nickheer">
	<link rel="alternate" type="application/rss+xml" title="Pixel Envy" href="https://pxlnv.com/feed/">
	<link rel="alternate" type="application/json" title="Pixel Envy" href="https://pxlnv.com/feed/json">
	<link rel="pingback" href="https://pxlnv.com/wordpress/xmlrpc.php">
	<link rel="apple-touch-icon" href="/apple-touch-icon.png">
	<link rel="icon" type="image/x-icon" href="//pxlnv.com/favicon.ico">
	<link rel="icon" href="//pxlnv.com/favicon.png" sizes="32x32">
	<link rel="icon" href="//pxlnv.com/favicon.png" sizes="64x64">
	<link rel="stylesheet" href="//pxlnv.com/wordpress/wp-content/themes/pxlnv8/style.css" media="all">
	<meta name="theme-color" content="#e4e4e8" media="(prefers-color-scheme: light)">
	<meta name="theme-color" content="#40404f" media="(prefers-color-scheme: dark)">
	<script type="text/javascript" async="" defer="" src="//pxlnv.com/piwik/piwik.js"></script><script type="text/javascript">
	  var _paq = _paq || [];
	  _paq.push(['trackPageView']);
	  _paq.push(['enableLinkTracking']);
	  (function() {
	    var u="//pxlnv.com/piwik/";
	    _paq.push(['setTrackerUrl', u+'piwik.php']);
	    _paq.push(['setSiteId', '1']);
	    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
	    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
	  })();
	</script>
<script id="_carbonads_projs" type="text/javascript" src="https://srv.carbonads.net/ads/CKYICKJW.json?segment=placement:pxlnv&amp;callback=_carbonads_go"></script></head>
<body onload="setupZoom()"><div id="ZoomSpin" style="position: absolute; left: 10px; top: 10px; visibility: hidden; z-index: 525;"><img id="ZoomSpinImage" src="/zoom/spin.png" style="width: 50px; height: 50px;"></div><div id="ZoomBox" style="position: absolute; left: 10px; top: 10px; visibility: hidden; z-index: 499;"><img src="/zoom/spacer.gif" id="ZoomBoxImage" border="0" style="box-shadow: rgba(0, 0, 0, 0) 0px 3px 15px; display: block; width: 10px; height: 10px; border-radius: 5px; cursor: pointer;"><div id="ZoomClose" style="position: absolute; left: -15px; top: -14px; visibility: hidden;"><img src="/zoom/close.png" width="30" height="30" border="0" style="cursor: pointer;"></div></div><div id="ZoomCaptionOuter" style="position: absolute; visibility: hidden; margin-left: auto; margin-right: auto; z-index: 501;"><div id="ZoomCaptionInner" style="padding: 4px 10px; border-radius: 5px; background: rgba(0, 0, 0, 0.8); font-weight: 600; color: rgb(255, 255, 255); text-shadow: rgb(0, 0, 0) 0px 1px 3px; white-space: nowrap;"></div></div>
	<div class="wrapper">
		<header>
			<div>
				<h1>
					<a href="/">
						<figure id="wordmark">
							<svg xmlns="http://www.w3.org/2000/svg" width="180" height="20" viewBox="0 0 3853.06 360">
								<title>Pixel Envy</title>
								<g id="logo" data-name="logo">
									<path id="svg-glyph" class="glyph" d="M617,360a37.38,37.38,0,0,1-32.26-18.63l-130-224.94a3.19,3.19,0,0,0-5.52,0l-130.68,225a37.29,37.29,0,0,1-64.52-.06L124,116.46a3.19,3.19,0,0,0-5.53,0l-41.14,71a27.77,27.77,0,0,1-23.95,13.81H24a24.12,24.12,0,0,1-16.86-6.62,23.44,23.44,0,0,1-3.92-28.57L89,18.54a37.29,37.29,0,0,1,64.51.08l130.08,225a3.2,3.2,0,0,0,5.54,0l130.68-225a37.28,37.28,0,0,1,64.52.07l130,224.89a3.19,3.19,0,0,0,5.53,0l41.13-71a27.75,27.75,0,0,1,23.94-13.81h29.41a24.09,24.09,0,0,1,16.86,6.63,23.44,23.44,0,0,1,3.92,28.57L649.28,341.46A37.41,37.41,0,0,1,617.05,360Z"></path>
									<path id="svg-wordmark" class="wordmark" d="M1123.4,15.32c24,0,48,4.64,68.63,21.48,21.47,17.68,35,45.05,35,78.73,0,34.53-14.74,63.16-37.9,80.85-20.21,15.58-42.95,19.37-65.68,19.37h-65.27v80a6.2,6.2,0,0,1-6.31,6.31h-47.58a6.57,6.57,0,0,1-6.74-6.31V21.64a6.58,6.58,0,0,1,6.74-6.32Zm24,61.48c-9.27-5.9-19.79-8.42-32-8.42h-57.27v94.31h56c11.79,0,23.58-1.68,32.43-7.58,11.78-7.15,18.94-20.21,18.94-39.58C1165.5,96.59,1158.34,84,1147.4,76.8Zm226.94-61.48a6.21,6.21,0,0,1,6.32,6.32V295.75a6.2,6.2,0,0,1-6.32,6.31h-47.58a6.56,6.56,0,0,1-6.73-6.31V21.64a6.57,6.57,0,0,1,6.73-6.32ZM1752.45,292c4.21,5.05,2.52,10.1-4.22,10.1H1685.5c-5.9,0-8-2.1-11-5.89l-67-91.37-67.37,91.37c-2.52,3.79-5,5.89-10.52,5.89h-63.16c-6.74,0-8.42-5.05-4.21-10.1l108.21-132.64L1464.45,25.85c-3.79-5.05-2.11-10.53,4.63-10.53h63.15c5.48,0,8,2.53,10.53,6.32L1608,110.06l63.16-88.42c3-3.79,5.48-6.32,11.37-6.32h63.58c6.74,0,8.42,5.48,4.21,10.53L1645.92,158.06ZM2043.39,15.32a6.57,6.57,0,0,1,6.73,6.32V62.9a6.57,6.57,0,0,1-6.73,6.32H1894.34v61.89h127.15a6.48,6.48,0,0,1,6.32,6.32v40.84a6.58,6.58,0,0,1-6.32,6.74H1894.34v63.58h149.05c3.79,0,6.73,2.52,6.73,6.31v40.85a6.56,6.56,0,0,1-6.73,6.31h-203a6.57,6.57,0,0,1-6.74-6.31V21.64a6.58,6.58,0,0,1,6.74-6.32Zm155.36,0a6.21,6.21,0,0,1,6.32,6.32v227H2327.6c3.79,0,6.73,2.52,6.73,6.31v40.85a6.56,6.56,0,0,1-6.73,6.31H2151.18a6.57,6.57,0,0,1-6.74-6.31V21.64a6.58,6.58,0,0,1,6.74-6.32Zm593.26,0a6.58,6.58,0,0,1,6.74,6.32V62.9a6.58,6.58,0,0,1-6.74,6.32H2643v61.89h127.16a6.47,6.47,0,0,1,6.31,6.32v40.84a6.57,6.57,0,0,1-6.31,6.74H2643v63.58H2792c3.79,0,6.74,2.52,6.74,6.31v40.85a6.57,6.57,0,0,1-6.74,6.31H2589.07a6.57,6.57,0,0,1-6.74-6.31V21.64a6.58,6.58,0,0,1,6.74-6.32ZM3091,21.64a6.48,6.48,0,0,1,6.31-6.32h45.48a6.47,6.47,0,0,1,6.31,6.32V295.75a6.47,6.47,0,0,1-6.31,6.31h-42.11c-5,0-8-.84-11.79-6.31L2951.17,116.38V295.75a6.48,6.48,0,0,1-6.32,6.31h-45a6.57,6.57,0,0,1-6.74-6.31V21.64a6.58,6.58,0,0,1,6.74-6.32h42.11c5.05,0,7.57,1.69,11.36,6.74L3091,201.43ZM3405.06,297c-1.68,4.63-4.63,6.31-9.68,6.31h-50.53c-5.47,0-8.42-1.68-10.1-6.31L3230.33,24.17c-2.11-5.06-.43-8.85,5.05-8.85h50.95c5.47,0,8.84,2.11,10.52,7.16l72.84,204.63h.85L3445.9,22.48c1.69-5.05,4.64-7.16,10.53-7.16H3507c5.05,0,7.15,3.79,5.05,8.85ZM3780.64,21.64c2.52-4.21,5.05-6.32,10.94-6.32h55.16c6.74,0,8,5.06,4.21,10.53L3744.42,182.9V295.75a6.47,6.47,0,0,1-6.31,6.31h-48a6.48,6.48,0,0,1-6.32-6.31V182.48L3578.11,25.85c-3.79-5.47-2.53-10.53,4.21-10.53h55.16c5.47,0,8,1.69,10.52,6.32l66.11,101.05Z"></path>
								</g>
							</svg>
						</figure>
					</a>
				</h1>
				<cite>Written by Nick Heer.</cite>
			</div>
		</header><main class="singleton">
		<article class="post-33263 post type-post status-publish format-standard hentry category-blog tag-developer tag-future tag-macos-monterey tag-microsoft tag-services tag-software" id="post-33263">
			<h1>Old Man Yells at Cloud</h1>
		<p>Hinted at <a href="https://pxlnv.com/linklog/macos-dropbox-curious/">earlier this week</a> and <a href="https://developer.apple.com/documentation/macos-release-notes/macos-12_3-release-notes">made official today</a>, MacOS 12.3 will be dropping support for the kernel extension used by cloud storage providers like Dropbox and Microsoft OneDrive. They will instead be required to use Apple’s <a href="https://developer.apple.com/documentation/fileprovider">File Provider extension</a>, originally created for iOS’ Files app and integrated into MacOS since Catalina. It is a change that Apple has been <a href="https://support.apple.com/en-ca/guide/security/sec8e454101b/web">hinting at</a> for about a year.</p>

<p>The only third-party cloud storage provider I use is OneDrive, which I have to use for work, so I was <a href="https://pxlnv.com/linklog/macos-dropbox-curious/">hopeful</a> this framework would help Microsoft improve the performance of its sync client without requiring too much adaptation on my part.</p>

<p>I was exactly wrong.</p>

<p>My desktop OneDrive client updated itself to the newest build this morning and the changes are manifold:</p>

<ul>
<li><p>Instead of a folder in my Home directory, OneDrive now appears under the “Locations” section in Finder like a networked drive might, though it cannot be ejected.</p></li>
<li><p>The first run experience is extremely slow. It took about an hour to reconcile the local contents of my OneDrive with remote copies. It did not seem to be downloading or uploading files, only checking their validity and status, but it was not quick. Even several hours later, opening any folder for the first time takes many seconds to load.</p></li>
<li><p>Every application I use to work with files in my OneDrive now needs to be authorized to do so, which is <em>wild</em>. It only happens one time for each application, but it was utterly bizarre to see a permissions request after opening a Sketch document for the first time: <em>of course I want Sketch to be able to work with files in OneDrive because that is exactly what I just asked it to do</em>.</p>

<p>When I was in elementary school, we had to raise our hands and ask to go to the bathroom. By the time I got to high school, we could just walk out of class and come back because everyone has to pee sometimes. I know it is just the first run experience for each application, but this is like being back in elementary school again.</p></li>
<li><p>Backblaze saw the new OneDrive directory as a “drive” and started to back it up. This may be helpful to some people, but I do not want to create a personal backup of my employer’s files. I excluded the OneDrive directory from Backblaze, but about an hour later, I saw the <code>bztransmit</code> process creeping up the list in Activity Monitor. Turns out it is necessary to also exclude <code>~/Library/Group Containers/UBF8T346G9.OneDriveStandaloneSuite</code>, which I am documenting for future searchers.</p></li>
</ul>

<p>These are changes that interrupt users’ workflow and <a href="https://twitter.com/tylerhall/status/1486724661744259084">move files around</a> without explicit permission — and they are delivered in an automatic update. To its credit, Microsoft attempted to soften these issues by <a href="https://techcommunity.microsoft.com/t5/microsoft-onedrive-blog/inside-the-new-files-on-demand-experience-on-macos/bc-p/3066588">communicating what was different</a> before widely rolling out the update, and it created a same-named symlink in the user’s Home folder so linked files should continue to work correctly.</p>

<p>It is also hard to blame this change on Microsoft. Sure, it could have made this change earlier, but there is no incremental process for each user. If Microsoft had released this update a year ago, I would have still had the same issues. It is also hard to fault Microsoft for making a potentially breaking change any earlier than required.</p>

<p>Similarly, I can imagine Apple has good reasons for requiring the use of its File Provider extension instead of legacy kernel extensions. Apple says that the latter “risk the integrity and reliability of the operating system” and “recommends users select solutions that don’t require extending the kernel”; presumably, it also recommends developers avoid distributing kernel extending software, too. It also appears to make fuller use of APFS features.</p>

<p>It is the combination of these changes, delivered through automatic software updates, that compelled me to write about this in more detail. Much of the software I use is now delivered through a service-based model, where I have no control over which version I am using. There are clear benefits, like reduced version incompatibility and guaranteed security fixes, but it comes at the cost of user control. Sometimes, that means my workflow will get interrupted by a change I did not explicitly request, and that will mean spending a great deal of time adjusting. If it were only in one or two applications — and only sometimes — this would bug me less, but it is the new standard, and I am increasingly frustrated by it.</p>

<p>The new version of OneDrive no longer has a global preference for retaining a local copy of all files. Deleting a file now makes it vanish entirely after confirming this action — the file is no longer moved into MacOS’ Trash, nor is it in the OneDrive Recycle Bin on the web. It is simply gone. I do not know if these are choices Microsoft made or if they are side effects of the File Provider transition, but they are regressions nevertheless, and appear to only affect the MacOS client. And, as a user, I have virtually no control over these changes. It is no longer limited to specific software or specific vendors — updates that are interruptive are now everywhere. It makes using the tools for my job a never-ending process of relearning with few rewards.</p>

<p>Also, as a slap in the face, the OneDrive for Mac client still sometimes idles at 90% CPU consumption, and records around 200% while syncing some files. Neither MacOS nor OneDrive is a beta version, yet everything I use seems to behave as though I am testing it. Nothing seems to carry a seal of quality or any kind of guarantee. I sure wish software vendors — particularly the biggest companies in the industry — would stand behind their software products like they do their hardware.</p>
			<time datetime="2022-01-27 21:42">⌥ January 27, 2022</time>
	<div class="navigation-wrapper">
		<section class="navigation">
			<div class="previous">
			<p><strong>Older</strong> <a href="https://pxlnv.com/blog/responsible/" rel="prev">Responsible</a>			</p>
			</div>
			<div class="next">
			<p><strong>Newer</strong> <a href="https://pxlnv.com/blog/substack-spotify-speech/" rel="next">Substack, Spotify, Speech</a>			</p>
			</div>
		</section>
	</div>
	</article>
			</main>
<footer>
	<div class="carbon-wrapper">
		<script async="" type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1698&amp;serve=CVYD42E&amp;placement=pxlnv" id="_carbonads_js"></script>
	</div>
	<nav>
		<a href="/colophon/">About</a>
		<a href="/articles/">Articles</a>
		<a href="/archives/">Archive</a>
		<a href="/reading-list/">Reading List</a>
	</nav>
	<p>Assembled from bits daily in <a href="http://madeinyyc.com">Calgary</a> and around the world. Thanks for reading.</p>
	<p><small>Follow Pixel Envy on <a href="https://twitter.com/pxlnv">Twitter</a>, or subscribe via <a href="https://apple.news/TAjcS0c5sRV2HYftzmJ6UMQ">Apple News</a>, <a href="/feed">RSS</a>, or <a href="/feed/json">JSON</a>. I use <a href="/privacy">local limited analytics</a>, and you can <a href="https://pxlnv.com/optout.html">opt out</a> any time. <a href="https://patreon.com/pxlnv">Subscribe on Patreon</a>.</small></p>
	<p><small>© Nick Heer.</small></p>
	<form method="get" action="/" role="search" class="search">
		<input type="text" value="" name="s" id="s">
		<input type="submit" class="hidden" value="Search">
	</form>
</footer>
</div><!-- /.wrapper -->
<script src="/zoom/zoom.min.js" type="text/javascript"></script>

<!-- Congratulations on reading the whole source. Donate to a worthy cause: donate.splcenter.org -->

<!-- Dynamic page generated in 0.126 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2022-03-02 03:30:07 -->

<!-- Compression = gzip --></body></html>
