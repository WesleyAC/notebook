{
    "archive_path": "archive/1632694577.428449",
    "base_url": "github.com/shapr/fermatslastmargin",
    "basename": "fermatslastmargin",
    "bookmarked_date": "2021-09-26 22:16",
    "canonical": {
        "archive_org_path": "https://web.archive.org/web/github.com/shapr/fermatslastmargin",
        "dom_path": "output.html",
        "favicon_path": "favicon.ico",
        "git_path": "git/",
        "google_favicon_path": "https://www.google.com/s2/favicons?domain=github.com",
        "headers_path": "headers.json",
        "index_path": "index.html",
        "media_path": "media/",
        "mercury_path": "mercury/content.html",
        "pdf_path": "output.pdf",
        "readability_path": "readability/content.html",
        "screenshot_path": "screenshot.png",
        "singlefile_path": "singlefile.html",
        "warc_path": "warc/",
        "wget_path": null
    },
    "domain": "github.com",
    "extension": "",
    "hash": "15BGBKGMQY4T73R6ZZSV",
    "history": {
        "archive_org": [
            {
                "cmd": [
                    "curl",
                    "--silent",
                    "--location",
                    "--compressed",
                    "--head",
                    "--max-time",
                    "90",
                    "--user-agent",
                    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.61 Safari/537.36 ArchiveBox/0.6.2 (+https://github.com/ArchiveBox/ArchiveBox/) curl/curl 7.76.1 (x86_64-pc-linux-gnu)",
                    "https://web.archive.org/save/https://github.com/shapr/fermatslastmargin"
                ],
                "cmd_version": "curl 7.76.1 (x86_64-pc-linux-gnu)",
                "end_ts": "2021-09-26T22:17:33.158360+00:00",
                "index_texts": null,
                "output": "https://web.archive.org/web/20210926221722/https://github.com/shapr/fermatslastmargin",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:53.978022+00:00",
                "status": "succeeded"
            }
        ],
        "dom": [
            {
                "cmd": [
                    "chromium-browser",
                    "--headless",
                    "--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.61 Safari/537.36 ArchiveBox/{VERSION} (+https://github.com/ArchiveBox/ArchiveBox/)",
                    "--window-size=1440,2000",
                    "--timeout=90000",
                    "--dump-dom",
                    "https://github.com/shapr/fermatslastmargin"
                ],
                "cmd_version": "Chromium 93.0.4577.82",
                "end_ts": "2021-09-26T22:16:37.893192+00:00",
                "index_texts": null,
                "output": "output.html",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:35.408412+00:00",
                "status": "succeeded"
            }
        ],
        "favicon": [
            {
                "cmd": [
                    "curl",
                    "--silent",
                    "--location",
                    "--compressed",
                    "--max-time",
                    "90",
                    "--output",
                    "favicon.ico",
                    "--user-agent",
                    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.61 Safari/537.36 ArchiveBox/0.6.2 (+https://github.com/ArchiveBox/ArchiveBox/) curl/curl 7.76.1 (x86_64-pc-linux-gnu)",
                    "https://www.google.com/s2/favicons?domain=github.com"
                ],
                "cmd_version": "curl 7.76.1 (x86_64-pc-linux-gnu)",
                "end_ts": "2021-09-26T22:16:18.359181+00:00",
                "index_texts": null,
                "output": "favicon.ico",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:18.264821+00:00",
                "status": "succeeded"
            }
        ],
        "git": [],
        "headers": [
            {
                "cmd": [
                    "curl",
                    "--silent",
                    "--location",
                    "--compressed",
                    "--head",
                    "--max-time",
                    "90",
                    "--user-agent",
                    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.61 Safari/537.36 ArchiveBox/0.6.2 (+https://github.com/ArchiveBox/ArchiveBox/) curl/curl 7.76.1 (x86_64-pc-linux-gnu)",
                    "https://github.com/shapr/fermatslastmargin"
                ],
                "cmd_version": "curl 7.76.1 (x86_64-pc-linux-gnu)",
                "end_ts": "2021-09-26T22:16:18.525602+00:00",
                "index_texts": null,
                "output": "headers.json",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:18.372833+00:00",
                "status": "succeeded"
            }
        ],
        "media": [],
        "mercury": [
            {
                "cmd": [
                    "/home/wesleyac/code/notebook/data/archivebox/node_modules/@postlight/mercury-parser/cli.js",
                    "https://github.com/shapr/fermatslastmargin"
                ],
                "cmd_version": "1.0.0",
                "end_ts": "2021-09-26T22:16:53.958990+00:00",
                "index_texts": null,
                "output": "mercury",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:43.477612+00:00",
                "status": "succeeded"
            }
        ],
        "pdf": [],
        "readability": [
            {
                "cmd": [
                    "/home/wesleyac/code/notebook/data/archivebox/node_modules/readability-extractor/readability-extractor",
                    "/run/user/1000/tmpzl8xc_l7"
                ],
                "cmd_version": "0.0.3",
                "end_ts": "2021-09-26T22:16:43.445341+00:00",
                "index_texts": [
                    "\n          Fermat's Last Margin\nA tool for annotating research papers (and more) and sharing those annotations (via git for starters)\nFermat's Last Theorem was captioned \"I have a truly marvelous demonstration of this proposition which this margin is too narrow to contain.\"\nThis tool intends to be an infinite margin.\nWHY WOULD I USE THIS?\nDo you read many research papers or PhD theses? If yes, you might want to use this tool!\nI like to write in the margins of my books and printed research papers.\nI want to read what other people have to say about a paper after I write down my own notes.\nI want to be able to search my notes. I want to be able to share my notes!\nI want to be able to remember why I downloaded a paper years later.\nWhy are notes separate from the paper itself?\nDistributing PDFs will get you sued for lots of money ( https://en.wikipedia.org/wiki/Sci-Hub#United_States ). I don't want to get sued.\nGetting Started\n\ninstall poppler-utils, or more specifically, make sure the pdftocairo binary from poppler-utils is in your $PATH\ngit clone this repository\nrun this from cabal cabal run (optionally: nix-shell --run \"cabal run\")\npoint your web browser to localhost:3000\nAll of the annotations are saved in a local directory ~/.fermatslastmargin/localuser and your friend's annotations are saved in ~/.fermatslastmargin/friends/<github_name_of_friend>\n\nFeatures\n\n add paper info\n read/write annotations\n load page images\n render 'uploaded' PDF to page images\n push to github repo\n pull from friends' github repo\n switch notes view to see github friends' notes\n setup new user (ask for github OAuth and username, set git remote correctly)\n search crossref.org by title to get DOI\n update PDF when viewing paper\n plugin system to download paper (as PDF) when given unique ID (DOI for now)\n search arxiv by title to get DOI\n swap to github v4 graphql API so pulling friend repos doesn't get rate limited\n\nDependencies\n\ngit\npoppler-utils (apt install poppler-utils)\nzlib (apt install zlib1g-dev)\n\nDependencies when building from source\n\ncabal 2.4 - if you get \"cabal: fermatslastmargin.cabal:14: Parse of field 'build-depends' failed.\" you need to upgrade with \"cabal install Cabal\"\nGHC 8.6 (at least, that's all I've tried)\n\nMac\n\nbrew install poppler\nbrew install zlib\n\nProject Implementation\nScotty is used to handle a bunch of HTTP endpoints.\nAll state is saved in ~/.fermatslastmargin/. For the user viewing the papers, their state will be in ~/.fermatslastmargin/localuser.\nThe notes for each paper will be in ~/.fermatslastmargin/localuser/$DOI/paper.json.\nFor example, Conor McBride's paper \"Everybody's Got to be Somewhere\" has a DOI of 10.4204/EPTCS.275.6.\nOnce that paper is added, the notes will be saved into ~/.fermatslastmargin/localuser/10.4204/EPTCS.275.6/paper.json\nNotes written by users followed by this user will be in ~/.fermatslastmargin/friends/<github_name_of_friend>\nWhen a PDF is uploaded to create a new paper, the PDF is saved into ~/.fermatslastmargin/pageimages/$DOI/paper.pdf.\nNext, page images are generated by poppler-utils into ~/.fermatslastmargin/pageimages/$DOI/page-1.png up to however many pages in the PDF.\nFront End code\nThe front end uses jquery in a thoroughly haphazard manner.\nThe state is mostly passed around as GET parameters for DOI, page number, and friend name.\nFor example, http://localhost:3000/index.html?pagenum=1&uid=10.2168/LMCS-10(3:19)2014&friendview=chazzam\nThe front end javascript calls HTTP endpoints defined in Main.hs.\n\npage images are fetched from the filesystem via a static endpoint\nlocal and friend notes are fetched by GET'ing from /getannotate\na new or updated note is saved by posting to /annotate\nfriends are found by GET'ing the DOI from /friends?paperuid=DOI\npushing local notes to github GETs /gitpush\npulling remote notes from github GETs /gitpull\ncreating a new paper POSTs to /paper\ncreating a new user will hit /newuser\n\nMigrate!\nIf you created a local repository and annotated papers before January 2020, you'll need to do cabal run migrate to get your repository in the new format!\n\n        "
                ],
                "output": "readability",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:37.910634+00:00",
                "status": "succeeded"
            }
        ],
        "screenshot": [
            {
                "cmd": [
                    "chromium-browser",
                    "--headless",
                    "--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.61 Safari/537.36 ArchiveBox/{VERSION} (+https://github.com/ArchiveBox/ArchiveBox/)",
                    "--window-size=1440,2000",
                    "--timeout=90000",
                    "--screenshot",
                    "https://github.com/shapr/fermatslastmargin"
                ],
                "cmd_version": "Chromium 93.0.4577.82",
                "end_ts": "2021-09-26T22:16:35.373038+00:00",
                "index_texts": null,
                "output": "screenshot.png",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:31.838343+00:00",
                "status": "succeeded"
            }
        ],
        "singlefile": [
            {
                "cmd": [
                    "/home/wesleyac/code/notebook/data/archivebox/node_modules/single-file/cli/single-file",
                    "--browser-executable-path=chromium-browser",
                    "--browser-args=[\"--headless\", \"--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.61 Safari/537.36 ArchiveBox/{VERSION} (+https://github.com/ArchiveBox/ArchiveBox/)\", \"--window-size=1440,2000\"]",
                    "https://github.com/shapr/fermatslastmargin",
                    "singlefile.html"
                ],
                "cmd_version": "0.3.31",
                "end_ts": "2021-09-26T22:16:31.818102+00:00",
                "index_texts": null,
                "output": "singlefile.html",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:18.539526+00:00",
                "status": "succeeded"
            }
        ],
        "title": [
            {
                "cmd": [
                    "curl",
                    "--silent",
                    "--location",
                    "--compressed",
                    "--max-time",
                    "90",
                    "--user-agent",
                    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.61 Safari/537.36 ArchiveBox/0.6.2 (+https://github.com/ArchiveBox/ArchiveBox/) curl/curl 7.76.1 (x86_64-pc-linux-gnu)",
                    "https://github.com/shapr/fermatslastmargin"
                ],
                "cmd_version": "curl 7.76.1 (x86_64-pc-linux-gnu)",
                "end_ts": "2021-09-26T22:16:18.247278+00:00",
                "index_texts": null,
                "output": "GitHub - shapr/fermatslastmargin: tool for creating and sharing annotations, using github for storage and social network",
                "pwd": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
                "schema": "ArchiveResult",
                "start_ts": "2021-09-26T22:16:17.656845+00:00",
                "status": "succeeded"
            }
        ],
        "wget": []
    },
    "icons": null,
    "is_archived": true,
    "is_static": false,
    "latest": {
        "archive_org": "https://web.archive.org/web/20210926221722/https://github.com/shapr/fermatslastmargin",
        "dom": "output.html",
        "favicon": "favicon.ico",
        "git": null,
        "media": null,
        "pdf": null,
        "screenshot": "screenshot.png",
        "singlefile": "singlefile.html",
        "title": "GitHub - shapr/fermatslastmargin: tool for creating and sharing annotations, using github for storage and social network",
        "warc": null,
        "wget": null
    },
    "link_dir": "/home/wesleyac/code/notebook/data/archivebox/archive/1632694577.428449",
    "newest_archive_date": "2021-09-26T22:16:53.978022+00:00",
    "num_failures": 0,
    "num_outputs": 9,
    "oldest_archive_date": "2021-09-26T22:16:17.656845+00:00",
    "path": "/shapr/fermatslastmargin",
    "schema": "Link",
    "scheme": "https",
    "snapshot_id": "67f97d9f-598c-447d-b93b-8d089d45272e",
    "sources": [
        "/home/wesleyac/code/notebook/data/archivebox/sources/1632694577-import.txt"
    ],
    "tags": null,
    "tags_str": "",
    "timestamp": "1632694577.428449",
    "title": "GitHub - shapr/fermatslastmargin: tool for creating and sharing annotations, using github for storage and social network",
    "updated": "2021-09-26T22:16:17.646636+00:00",
    "updated_date": "2021-09-26 22:16",
    "url": "https://github.com/shapr/fermatslastmargin"
}